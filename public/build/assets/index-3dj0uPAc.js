import{j as e,L as l,a as b,r as u,u as v,H as N,b as o}from"./app-bEAmR4dY.js";import{c as i,a as d,b as w,B as g}from"./app-logo-icon-CVqrM_x1.js";import{I as k}from"./input-DIYB7wmk.js";import{A as _,X as S}from"./app-layout-BLb_ix-r.js";/* empty css            */import"./index-BlEJ7lYI.js";import"./index-DFAdK7RW.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],P=i("CirclePlus",M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z=i("Eye",A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],C=i("Pencil",T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],I=i("Trash2",E),L=w("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function D({className:r,variant:a,...s}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:d(L({variant:a}),r),...s})}function $({className:r,...a}){return e.jsx("div",{"data-slot":"alert-title",className:d("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",r),...a})}function H({className:r,...a}){return e.jsx("div",{"data-slot":"alert-description",className:d("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",r),...a})}function V({products:r}){return e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("p",{children:["Showing ",e.jsx("strong",{children:r.from})," to ",e.jsx("strong",{children:r.to})," from Total ",e.jsx("strong",{children:r.total})," entries"]}),e.jsx("div",{className:"flex gap-2",children:r.links.map((a,s)=>e.jsx(l,{className:`px-4 py-2 border rounded ${a.active?"bg-black text-white":""}`,href:a.url||"#",dangerouslySetInnerHTML:{__html:a.label}},s))})]})}const B=[{title:"Manage Products",href:"/products"}];function O({products:r,filters:a}){const{flash:s}=b().props,n=(s==null?void 0:s.success)||(s==null?void 0:s.error)||"",[x,h]=u.useState(!1);console.log("from index",n,s,x),u.useEffect(()=>{if(n){h(!0);const t=setTimeout(()=>h(!1),3e3);return()=>clearTimeout(t)}},[n]);const{data:p,setData:m}=v({search:a.search||""}),j=t=>{const c=t.target.value;m("search",c);const f=c?{search:c}:{};o.get(route("products.index"),f,{preserveState:!0,preserveScroll:!0})},y=()=>{m("search",""),o.get(route("products.index"),{},{preserveState:!0,preserveScroll:!0})};return e.jsxs(_,{breadcrumbs:B,children:[e.jsx(N,{title:"Product Management"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:[x&&n&&e.jsxs(D,{variant:"default",className:`${s!=null&&s.success?"bg-green-800":s!=null&&s.error?"bg-red-800":""} ml-auto max-w-md text-white`,children:[e.jsx($,{className:"font-bold",children:s!=null&&s.success?"Success":"Error"}),e.jsxs(H,{className:"text-white",children:[s!=null&&s.success?"Success!":"Error!"," ","",n]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx(k,{type:"text",placeholder:"Search Product...",name:"search",className:"w-1/3",onChange:j,value:p.search}),e.jsx(g,{onClick:y,className:"bg-red-600 rounded-lg cursor-pointer hover:bg-red-500",children:e.jsx(S,{size:18})}),e.jsx("div",{className:"ml-auto",children:e.jsxs(l,{className:"flex items-center text-md cursor-pointer rounded-lg bg-indigo-800 px-4 py-2 text-white hover:opacity-90",as:"button",href:route("products.create"),children:[e.jsx(P,{className:"me-2"})," Add Product"]})})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border bg-white shadow-sm",children:e.jsxs("table",{className:"w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-700 text-white",children:[e.jsx("th",{className:"border p-4",children:"#"}),e.jsx("th",{className:"border p-4",children:"Name"}),e.jsx("th",{className:"border p-4",children:"Description"}),e.jsx("th",{className:"border p-4",children:"Price (BDT)"}),e.jsx("th",{className:"border p-4",children:"Featured Image"}),e.jsx("th",{className:"border p-4",children:"Created Date"}),e.jsx("th",{className:"border p-4",children:"Action"})]})}),e.jsx("tbody",{children:r.data.length>0?r.data.map((t,c)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-4 py-2 text-center",children:c+1}),e.jsx("td",{className:"border px-4 py-2 text-center",children:t==null?void 0:t.name}),e.jsx("td",{className:"border px-4 py-2 text-center",children:t==null?void 0:t.description}),e.jsx("td",{className:"border px-4 py-2 text-center",children:t==null?void 0:t.price}),e.jsx("td",{className:"border px-4 py-2 text-center",children:t.featured_image&&e.jsx("img",{src:t==null?void 0:t.featured_image,alt:t.name,className:"w-24 h-24 object-cover rounded-lg"})}),e.jsx("td",{className:"border px-4 py-2 text-center",children:t==null?void 0:t.created_at}),e.jsxs("td",{className:"border px-4 py-2 text-center",children:[e.jsxs(l,{as:"button",href:route("products.show",t.id),className:"bg-sky-600 text-white p-2 rounded-lg cursor-pointer hover:opacity-90",children:[e.jsx(z,{size:18})," "]}),e.jsxs(l,{as:"button",href:route("products.edit",t.id),className:"ms-2 bg-green-600 text-white p-2 rounded-lg cursor-pointer hover:opacity-90",children:[e.jsx(C,{size:18})," "]}),e.jsxs(g,{className:"ms-2 bg-red-600 text-white p-2 rounded-lg cursor-pointer hover:opacity-90",onClick:()=>{confirm("Are you sure you want to delete this product?")&&o.delete(route("products.destroy",t.id),{preserveScroll:!0})},children:[e.jsx(I,{size:18})," "]})]})]},c)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"font-bold text-red-600 py-4 text-center",children:"No products found!"})})})]})}),e.jsx(V,{products:r})]})]})}export{O as default};
